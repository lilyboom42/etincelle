{# templates/order/show.html.twig

{% extends 'base.html.twig' %}

{% block title %}Détails de la Commande{% endblock %}

{% block body %}
    <h1>Détails de la Commande #{{ order.id }}</h1>

    <p><strong>Utilisateur :</strong> {{ order.user.username }}</p>
    <p><strong>Status :</strong> {{ order.orderStatus }}</p>

    <h2>Articles</h2>
    <table class="table">
        <thead>
            <tr>
                <th>Produit</th>
                <th>Quantité</th>
                <th>Prix Unitaire</th>
                <th>Sous-total</th>
            </tr>
        </thead>
        <tbody>
            {% for orderLine in order.orderLines %}
                <tr>
                    <td>{{ orderLine.product.name }}</td>
                    <td>{{ orderLine.quantity }}</td>
                    <td>{{ orderLine.price | number_format(2, ',', ' ') }} €</td>
                    <td>{{ (orderLine.price * orderLine.quantity) | number_format(2, ',', ' ') }} €</td>
                </tr>
            {% endfor %}
            <tr>
                <td colspan="3"><strong>Frais de Livraison ({{ order.deliveryMethod.name }}) :</strong></td>
                <td><strong>{{ order.deliveryCost | number_format(2, ',', ' ') }} €</strong></td>
            </tr>
            <tr>
                <td colspan="3"><strong>Total :</strong></td>
                <td><strong>{{ order.total | number_format(2, ',', ' ') }} €</strong></td>
            </tr>
        </tbody>
    </table>
{% endblock %} #}
